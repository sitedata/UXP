<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="reftest-wait"><script>function go() { var rect1 = document.getElementById(&quot;rect1&quot;); var rect2 = document.getElementById(&quot;rect2&quot;); var anim = document.getElementById(&quot;anim&quot;); rect2.appendChild(anim); // Wait &gt;= 1s before taking screenshot, to give animation time to finish setTimeout(&apos;document.documentElement.removeAttribute(&quot;class&quot;)&apos;, 1100); } function delay_go() { setTimeout(go, 1100); } document.addEventListener(&quot;MozReftestInvalidate&quot;, delay_go, false); setTimeout(delay_go, 4000); // fallback for running outside reftest</script><rect id="rect1" width="10" height="10" y="40" fill="#fff"><animate id="anim" fill="freeze" attributeName="x" calcMode="discrete" dur="2s" values="0; 50; 100; 150"/></rect><rect id="rect2" width="10" height="10" y="80" fill="#00f"/></svg>