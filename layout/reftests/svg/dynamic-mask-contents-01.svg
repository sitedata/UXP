<svg xmlns="http://www.w3.org/2000/svg" class="reftest-wait" onload="startTest()"><style>.foo .maskrect{fill:#fff}</style><defs id="d"><mask id="m1" maskContentUnits="objectBoundingBox" maskUnits="objectBoundingBox"><rect width="1" height="1" class="maskrect"/></mask></defs><rect id="rect" width="100%" height="100%" fill="#0f0" mask="url(#m1)"/><script>function startTest() { document.addEventListener(&quot;MozReftestInvalidate&quot;, doTest, false); setTimeout(doTest, 4000); // fallback for running outside reftest } function doTest() { document.getElementById(&quot;d&quot;).setAttribute(&quot;class&quot;, &quot;foo&quot;); document.documentElement.removeAttribute(&quot;class&quot;); }</script></svg>