<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="reftest-wait" onload="startTest()" version="1.1"><title>Testing that dynamic changes to the parent element are reflected in gradients</title><defs id="d"><linearGradient id="g1" x2="0" y2="1" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="red"/><stop offset="1" stop-color="red"/></linearGradient><linearGradient id="g2" x2="0" y2="1" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#0f0"/><stop offset="1" stop-color="#0f0"/></linearGradient></defs><g id="g" fill="url(#g1)"><rect id="u1" width="100%" height="100%"/></g><script>function startTest() { document.addEventListener(&quot;MozReftestInvalidate&quot;, doTest, false); setTimeout(doTest, 4000); // fallback for running outside reftest } function doTest() { document.getElementById(&quot;g&quot;).setAttribute(&quot;fill&quot;, &quot;url(#g2)&quot;); document.documentElement.removeAttribute(&quot;class&quot;); }</script></svg>