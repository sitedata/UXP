<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" baseProfile="basic" class="reftest-wait" onload="first();" version="1.1" viewBox="0 0 480 360"><script><![CDATA[

function first()
{
  document.getElementById("z").appendChild(document.getElementById("pat1"));
  setTimeout(second, 30);
}

function second()
{
  document.getElementById("pat4").appendChild(document.getElementById("z"));
  document.documentElement.removeAttribute("class");
}

]]></script><pattern id="pat1" width="20" height="20" x="10" y="10" patternUnits="userSpaceOnUse"><rect width="10" height="10" x="5" y="5" fill="red"/><rect width="10" height="10" x="10" y="10" fill="green"/></pattern><rect width="430" height="60" x="25" y="10" fill="url(#pat1)" stroke="#000"/><pattern id="pat4" width="20" height="10" x="0" y="0" patternUnits="userSpaceOnUse"><rect width="10" height="10" x="0" y="0" fill="red"/><rect width="10" height="10" x="10" y="0" fill="#00f"/></pattern><text id="z" x="25" y="275" fill="none" stroke="url(#pat4)" stroke-width="2" font-family="Arial" font-size="40">Pattern on stroke</text></svg>