<svg xmlns="http://www.w3.org/2000/svg" class="reftest-wait" onload="unpause()"><script type="text/ecmascript"><![CDATA[
    // If we try to update the DOM as we go we very occasionally run into timing
    // issues that produce false positives for this test. So instead we just set
    // this flag and update the DOM at the end of the test.
    var ok = true;

    function assert(condition) {
      ok = ok & condition;
    }

    // === Test the state before the document starts ===
    document.documentElement.setCurrentTime(2);
    assert(document.documentElement.getCurrentTime() == 0);
    assert(!document.documentElement.animationsPaused());
    document.documentElement.pauseAnimations();

    function unpause() {
      // === Test the state after that the document has started === 
      assert(document.documentElement.getCurrentTime() == 2);
      assert(document.documentElement.animationsPaused());

      if (!ok) {
        document.getElementById('wrong').style.visibility = 'visible';
      }

      document.documentElement.removeAttribute("class");
    }
  ]]></script><circle cx="50" cy="50" r="30" fill="#00f"><animate fill="freeze" attributeName="cx" attributeType="XML" begin="1s" dur="2s" to="250"/></circle><path stroke="green" d="M150 40v20"/><text id="wrong" x="125" y="70" fill="red" stroke="none" font-family="sans-serif" font-size="60" visibility="hidden">X</text></svg>