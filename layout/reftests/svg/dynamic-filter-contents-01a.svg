<svg xmlns="http://www.w3.org/2000/svg" class="reftest-wait" onload="startTest()"><style>.foo feComposite{color-interpolation-filters:sRGB}</style><defs id="d"><filter id="f" width="1" height="1" x="0" y="0" filterUnits="objectBoundingBox" primitiveUnits="objectBoundingBox"><feFlood flood-color="red" flood-opacity=".5" result="flood"/><feComposite width="1" height="1" in="flood" in2="SourceGraphic" operator="over"/></filter></defs><rect width="100" height="100" fill="#0f0" filter="url(#f)"/><script>function startTest() { document.addEventListener(&quot;MozReftestInvalidate&quot;, doTest, false); setTimeout(doTest, 4000); // fallback for running outside reftest } function doTest() { document.getElementById(&quot;d&quot;).setAttribute(&quot;class&quot;, &quot;foo&quot;); document.documentElement.removeAttribute(&apos;class&apos;); }</script></svg>