<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="reftest-wait" onload="startTest()" version="1.1"><title>Testing that dynamic changes to mask attributes are reflected in the mask</title><defs><mask id="mask1" width="1" height="1"><rect width="1" height="1" fill="#fff"/></mask><mask id="mask2" width="1" height="1"><rect width="1" height="1" fill="#fff"/></mask><mask id="mask3" width="1" height="1"><rect width="1" height="1" fill="#fff"/></mask></defs><rect width="100%" height="100%" fill="#0f0"/><g transform="scale(500)"><rect width=".2" height=".2" x=".2" y=".2" fill="red" mask="url(#mask1)"/><rect width=".2" height=".2" x=".4" y=".2" fill="red" mask="url(#mask2)"/><rect width=".2" height=".2" x=".2" y=".4" fill="red" mask="url(#mask3)"/></g><script>function startTest() { document.addEventListener(&quot;MozReftestInvalidate&quot;, doTest, false); setTimeout(doTest, 4000); // fallback for running outside reftest } function doTest() { var mask1 = document.getElementById(&quot;mask1&quot;); mask1.width.baseVal.value = 0; var mask2 = document.getElementById(&quot;mask2&quot;); mask2.height.baseVal.value = 0; var mask3 = document.getElementById(&quot;mask3&quot;); mask3.maskUnits.baseVal = SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE; document.documentElement.removeAttribute(&quot;class&quot;); }</script></svg>