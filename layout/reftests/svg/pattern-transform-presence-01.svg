<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="reftest-wait" onload="addTransform()" viewBox="0 0 300 100"><script>function addTransform() { var g = document.getElementById(&quot;patternBase&quot;); var list = g.patternTransform.baseVal; var t = document.documentElement.createSVGTransform(); t.setRotate(45,50,50); list.appendItem(t); document.documentElement.removeAttribute(&quot;class&quot;); }</script><defs><pattern id="patternBase" width="1" height="1"><rect width="50" height="50" fill="#00f"/><rect width="50" height="50" x="50" fill="red"/><rect width="50" height="50" y="50" fill="red"/><rect width="50" height="50" x="50" y="50" fill="#00f"/></pattern><pattern id="patternRefWithoutTransform" xlink:href="#patternBase"/><pattern id="patternRefWithTransform" xlink:href="#patternBase"/></defs><rect width="100" height="100" fill="url(#patternBase)" stroke="#000"/><g transform="translate(100)"><rect width="100" height="100" fill="url(#patternRefWithoutTransform)" stroke="#000"/></g><g transform="translate(200)"><rect width="100" height="100" fill="url(#patternRefWithTransform)" stroke="#000"/></g></svg>