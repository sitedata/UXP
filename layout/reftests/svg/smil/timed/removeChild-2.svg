<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="reftest-wait"><script>function go() { var rect1 = document.getElementById(&quot;rect1&quot;); var anim = document.getElementById(&quot;anim&quot;); rect1.removeChild(anim); // Wait &gt; 0.5s before taking screenshot, to give animation time to // finish, if it&apos;s still going setTimeout(&apos;document.documentElement.removeAttribute(&quot;class&quot;)&apos;, 700); } function delay_go() { setTimeout(go, 1100); } document.addEventListener(&quot;MozReftestInvalidate&quot;, delay_go, false); setTimeout(delay_go, 4000); // fallback for running outside reftest</script><rect id="rect1" width="10" height="10" y="40" fill="#00f"><animate id="anim" fill="freeze" attributeName="x" calcMode="discrete" dur="2s" values="0; 50; 100; 150"/></rect></svg>